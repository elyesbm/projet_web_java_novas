{% extends 'front/base_home.html.twig' %}

{% block title %}Verification code - NoVas{% endblock %}

{% block body %}
<div class="min-h-screen bg-background relative overflow-hidden">
    <div class="absolute inset-0 gradient-orb"></div>
    <div class="absolute top-1/4 right-0 w-[600px] h-[600px] bg-primary/10 rounded-full blur-[120px]"></div>
    <div class="absolute bottom-0 left-0 w-[400px] h-[400px] bg-accent/10 rounded-full blur-[100px]"></div>

    {% include 'front/partials/_auth_nav.html.twig' %}

    <div class="pt-32 pb-24 px-6">
        <div class="max-w-xl mx-auto">
            <div class="glass-card rounded-3xl p-8">
                <h1 class="font-serif text-2xl font-medium mb-3">Verifier votre email</h1>
                <p class="text-muted-foreground mb-6">
                    Un code a ete envoye a <strong>{{ email }}</strong>.
                    Il expire dans {{ minutes_left }} min.
                </p>

                <form method="post" class="space-y-5">
                    <input type="hidden" name="_token" value="{{ csrf_token('reservation_otp_verify') }}">

                    <div>
                        <label class="block text-sm font-medium mb-2">Code (6 chiffres)</label>
                        <input
                            type="text"
                            name="otp_code"
                            inputmode="numeric"
                            pattern="\d{6}"
                            maxlength="6"
                            autocomplete="one-time-code"
                            class="w-full h-12 bg-secondary border border-white/10 rounded-xl px-4"
                            placeholder="123456"
                            required
                        >
                    </div>

                    <button type="submit"
                            class="w-full h-14 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-all">
                        Valider le code
                    </button>
                </form>

                <form method="post" action="{{ path('app_reservation_resend_code') }}" class="mt-6">
                    <input type="hidden" name="_token" value="{{ csrf_token('reservation_otp_resend') }}">
                    <button type="submit"
                            class="w-full h-12 bg-secondary text-foreground rounded-xl font-medium hover:bg-secondary/80 transition-all">
                        Renvoyer le code
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

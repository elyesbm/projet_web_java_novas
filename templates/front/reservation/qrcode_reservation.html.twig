{% extends 'front/base_home.html.twig' %}

{% block title %}QR Code – Réservation #{{ reservation.id }}{% endblock %}

{% block body %}
<div class="min-h-screen bg-background flex items-center justify-center p-6">
    <div class="glass-card rounded-3xl p-8 max-w-md w-full text-center">
        <h1 class="text-xl font-semibold mb-2">QR Code d'accès</h1>
        <p class="text-sm text-muted-foreground mb-6">
            Scannez ce code pour ouvrir votre confirmation de réservation (PDF).
        </p>
        <div class="flex justify-center mb-6">
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data={{ qr_url|e('url') }}&format=svg"
                 alt="QR Code réservation {{ reservation.id }}"
                 class="w-48 h-48 rounded-xl border border-white/10">
        </div>
        <p class="text-sm text-muted-foreground">
            <strong>{{ reservation.atelier ? reservation.atelier.titreAtelier : 'Réservation' }}</strong><br>
            {{ reservation.atelier and reservation.atelier.dateAtelier ? reservation.atelier.dateAtelier|date('d/m/Y') : '' }}
        </p>
        <a href="{{ reservation.user ? path('app_reservation_mes', { id: reservation.user.id }) : path('app_ateliers') }}"
           class="inline-block mt-6 px-4 py-2 bg-primary text-white rounded-xl text-sm hover:bg-primary/90 transition-colors">
            Retour à mes réservations
        </a>
    </div>
</div>
{% endblock %}
